{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nexport var DELETE_PRODUCT = \"DELETE_PRODUCT\";\nexport var CREATE_PRODUCT = \"CREATE_PRODUCT\";\nexport var UPDATE_PRODUCT = \"UPDATE_PRODUCT\";\nexport var deleteProduct = function deleteProduct(productId) {\n  return {\n    type: DELETE_PRODUCT,\n    pid: productId\n  };\n};\nexport var createProduct = function createProduct(title, description, imageUrl, price) {\n  return function _callee(dispatch) {\n    var response, resData;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch(\"https://rn-complete-guide-7685b-default-rtdb.firebaseio.com/products.json\", {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                title: title,\n                description: description,\n                imageUrl: imageUrl,\n                price: price\n              })\n            }));\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            resData = _context.sent;\n            console.log(resData);\n            dispatch({\n              id: resData.name,\n              type: CREATE_PRODUCT,\n              productData: {\n                title: title,\n                description: description,\n                imageUrl: imageUrl,\n                price: price\n              }\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var updateProduct = function updateProduct(id, title, description, imageUrl) {\n  return {\n    type: UPDATE_PRODUCT,\n    pid: id,\n    productData: {\n      title: title,\n      description: description,\n      imageUrl: imageUrl\n    }\n  };\n};","map":{"version":3,"sources":["/Users/user/React-Native/sec 10 Http request & Adding web server + database/store/actions/products.js"],"names":["DELETE_PRODUCT","CREATE_PRODUCT","UPDATE_PRODUCT","deleteProduct","productId","type","pid","createProduct","title","description","imageUrl","price","dispatch","fetch","method","headers","body","JSON","stringify","response","json","resData","console","log","id","name","productData","updateProduct"],"mappings":";AAAA,OAAO,IAAMA,cAAc,GAAG,gBAAvB;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AAEP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,SAAD,EAAe;AAC1C,SAAO;AAAEC,IAAAA,IAAI,EAAEL,cAAR;AAAwBM,IAAAA,GAAG,EAAEF;AAA7B,GAAP;AACD,CAFM;AAIP,OAAO,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAQC,WAAR,EAAqBC,QAArB,EAA+BC,KAA/B,EAAyC;AACpE,SAAO,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEkBC,KAAK,CAC1B,2EAD0B,EAE1B;AACEC,cAAAA,MAAM,EAAE,MADV;AAEEC,cAAAA,OAAO,EAAE;AACP,gCAAgB;AADT,eAFX;AAKEC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBV,gBAAAA,KAAK,EAALA,KADmB;AAEnBC,gBAAAA,WAAW,EAAXA,WAFmB;AAGnBC,gBAAAA,QAAQ,EAARA,QAHmB;AAInBC,gBAAAA,KAAK,EAALA;AAJmB,eAAf;AALR,aAF0B,CAFvB;;AAAA;AAECQ,YAAAA,QAFD;AAAA;AAAA,6CAkBiBA,QAAQ,CAACC,IAAT,EAlBjB;;AAAA;AAkBCC,YAAAA,OAlBD;AAmBLC,YAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACAT,YAAAA,QAAQ,CAAC;AACPY,cAAAA,EAAE,EAAEH,OAAO,CAACI,IADL;AAEPpB,cAAAA,IAAI,EAAEJ,cAFC;AAGPyB,cAAAA,WAAW,EAAE;AACXlB,gBAAAA,KAAK,EAALA,KADW;AAEXC,gBAAAA,WAAW,EAAXA,WAFW;AAGXC,gBAAAA,QAAQ,EAARA,QAHW;AAIXC,gBAAAA,KAAK,EAALA;AAJW;AAHN,aAAD,CAAR;;AApBK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AA+BD,CAhCM;AAkCP,OAAO,IAAMgB,aAAa,GAAG,SAAhBA,aAAgB,CAACH,EAAD,EAAKhB,KAAL,EAAYC,WAAZ,EAAyBC,QAAzB,EAAsC;AACjE,SAAO;AACLL,IAAAA,IAAI,EAAEH,cADD;AAELI,IAAAA,GAAG,EAAEkB,EAFA;AAGLE,IAAAA,WAAW,EAAE;AACXlB,MAAAA,KAAK,EAALA,KADW;AAEXC,MAAAA,WAAW,EAAXA,WAFW;AAGXC,MAAAA,QAAQ,EAARA;AAHW;AAHR,GAAP;AASD,CAVM","sourcesContent":["export const DELETE_PRODUCT = \"DELETE_PRODUCT\";\nexport const CREATE_PRODUCT = \"CREATE_PRODUCT\";\nexport const UPDATE_PRODUCT = \"UPDATE_PRODUCT\";\n\nexport const deleteProduct = (productId) => {\n  return { type: DELETE_PRODUCT, pid: productId };\n};\n\nexport const createProduct = (title, description, imageUrl, price) => {\n  return async (dispatch) => {\n    // ant async code you want\n    const response = await fetch(\n      \"https://rn-complete-guide-7685b-default-rtdb.firebaseio.com/products.json\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          title,\n          description,\n          imageUrl,\n          price,\n        }),\n      }\n    );\n\n    const resData = await response.json();\n    console.log(resData);\n    dispatch({\n      id: resData.name,\n      type: CREATE_PRODUCT,\n      productData: {\n        title,\n        description,\n        imageUrl,\n        price,\n      },\n    });\n  };\n};\n\nexport const updateProduct = (id, title, description, imageUrl) => {\n  return {\n    type: UPDATE_PRODUCT,\n    pid: id,\n    productData: {\n      title,\n      description,\n      imageUrl,\n    },\n  };\n};\n"]},"metadata":{},"sourceType":"module"}